{"version":3,"sources":["Context.js","withContext.js","components/AddProduct.js","components/CartItem.js","components/Cart.js","components/Login.js","components/ProductItem.js","components/ProductList.js","App.js","reportWebVitals.js","index.js"],"names":["Context","React","createContext","withContext","WrappedComponent","props","Consumer","context","initState","name","price","stock","shortDesc","description","save","e","a","preventDefault","state","id","Math","random","toString","substring","Date","now","axios","post","addProduct","setState","flash","status","msg","handleChange","target","value","this","user","accessLevel","className","onSubmit","type","onChange","required","rows","style","resize","onClick","to","Component","CartItem","cartItem","cartKey","product","amount","src","alt","textTransform","removeFromCart","cart","cartKeys","Object","keys","length","map","key","clearCart","checkout","login","username","password","error","then","loggedIn","class","placeholder","ProductItem","addToCart","products","index","App","email","catch","res","message","jwt_decode","data","accessToken","token","localStorage","setItem","JSON","stringify","logout","removeItem","callback","slice","push","cartItemId","p","put","routerRef","current","history","createRef","getItem","get","parse","Provider","ref","role","aria-label","aria-expanded","data-target","showMenu","aria-hidden","marginLeft","exact","path","component","ProductList","Login","Cart","AddProduct","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e7b30f53.chunk.js","sourcesContent":["import React from \"react\";\r\nconst Context = React.createContext({});\r\nexport default Context;","import React from \"react\";\r\nimport Context from \"./Context\";\r\n\r\nconst withContext = WrappedComponent => {\r\n    const WithHOC = props => {\r\n        return (\r\n            <Context.Consumer>\r\n                {context => <WrappedComponent {...props} context={context} />}\r\n            </Context.Consumer>\r\n        );\r\n    };\r\n\r\n    return WithHOC;\r\n};\r\n\r\nexport default withContext;","import React, { Component } from \"react\";\r\nimport withContext from \"../withContext\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nconst initState = {\r\n    name: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    shortDesc: \"\",\r\n    description: \"\"\r\n};\r\n\r\nclass AddProduct extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = initState;\r\n    }\r\n\r\n    save = async (e) => {\r\n        e.preventDefault();\r\n        const { name, price, stock, shortDesc, description } = this.state;\r\n\r\n        if (name && price) {\r\n            const id = Math.random().toString(36).substring(2) + Date.now().toString(36);\r\n\r\n            await axios.post(\r\n                'http://localhost:3001/products',\r\n                { id, name, price, stock, shortDesc, description },\r\n            )\r\n\r\n            this.props.context.addProduct(\r\n                {\r\n                    name,\r\n                    price,\r\n                    shortDesc,\r\n                    description,\r\n                    stock: stock || 0\r\n                },\r\n                () => this.setState(initState)\r\n            );\r\n            this.setState(\r\n                { flash: { status: 'is-success', msg: 'Product created successfully' } }\r\n            );\r\n\r\n        } else {\r\n            this.setState(\r\n                { flash: { status: 'is-danger', msg: 'Please enter name and price' } }\r\n            );\r\n        }\r\n    };\r\n\r\n    handleChange = e => this.setState({ [e.target.name]: e.target.value, error: \"\" });\r\n\r\n    render() {\r\n        const { name, price, stock, shortDesc, description } = this.state;\r\n        const { user } = this.props.context;\r\n\r\n        return !(user && user.accessLevel < 1) ? (\r\n            <Redirect to=\"/\" />\r\n        ) : (\r\n                <>\r\n                    <div className=\"hero is-link \">\r\n                        <div className=\"hero-body container\">\r\n                            <h4 className=\"title\">Add Product</h4>\r\n                        </div>\r\n                    </div>\r\n                    <br />\r\n                    <br />\r\n                    <form onSubmit={this.save}>\r\n                        <div className=\"columns is-mobile is-centered\">\r\n                            <div className=\"column is-one-third\">\r\n                                <div className=\"field\">\r\n                                    <label className=\"label\">Product Name: </label>\r\n                                    <input\r\n                                        className=\"input\"\r\n                                        type=\"text\"\r\n                                        name=\"name\"\r\n                                        value={name}\r\n                                        onChange={this.handleChange}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <label className=\"label\">Price: </label>\r\n                                    <input\r\n                                        className=\"input\"\r\n                                        type=\"number\"\r\n                                        name=\"price\"\r\n                                        value={price}\r\n                                        onChange={this.handleChange}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <label className=\"label\">Available in Stock: </label>\r\n                                    <input\r\n                                        className=\"input\"\r\n                                        type=\"number\"\r\n                                        name=\"stock\"\r\n                                        value={stock}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <label className=\"label\">Short Description: </label>\r\n                                    <input\r\n                                        className=\"input\"\r\n                                        type=\"text\"\r\n                                        name=\"shortDesc\"\r\n                                        value={shortDesc}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <label className=\"label\">Description: </label>\r\n                                    <textarea\r\n                                        className=\"textarea\"\r\n                                        type=\"text\"\r\n                                        rows=\"2\"\r\n                                        style={{ resize: \"none\" }}\r\n                                        name=\"description\"\r\n                                        value={description}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                                {this.state.flash && (\r\n                                    <div className={`notification ${this.state.flash.status}`}>\r\n                                        {this.state.flash.msg}\r\n                                    </div>\r\n                                )}\r\n                                <div className=\"field is-clearfix\">\r\n                                    <button\r\n                                        className=\"button is-link is-outlined is-pulled-right\"\r\n                                        type=\"submit\"\r\n                                        onClick={this.save}\r\n                                    >\r\n                                        Submit\r\n                </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </>\r\n            );\r\n    }\r\n}\r\n\r\nexport default withContext(AddProduct);","import React from \"react\";\r\n\r\nconst CartItem = props => {\r\n    const { cartItem, cartKey } = props;\r\n\r\n    const { product, amount } = cartItem;\r\n    return (\r\n        <div className=\" column is-half\">\r\n            <div className=\"box\">\r\n                <div className=\"media\">\r\n                    <div className=\"media-left\">\r\n                        <figure className=\"image is-64x64\">\r\n                            <img\r\n                                src=\"https://bulma.io/images/placeholders/128x128.png\"\r\n                                alt={product.shortDesc}\r\n                            />\r\n                        </figure>\r\n                    </div>\r\n                    <div className=\"media-content\">\r\n                        <b style={{ textTransform: \"capitalize\" }}>\r\n                            {product.name}{\" \"}\r\n                            <span className=\"tag is-link\">${product.price}</span>\r\n                        </b>\r\n                        <div>{product.shortDesc}</div>\r\n                        <small>{`${amount} in cart`}</small>\r\n                    </div>\r\n                    <div\r\n                        className=\"media-right\"\r\n                        onClick={() => props.removeFromCart(cartKey)}\r\n                    >\r\n                        <span className=\"delete is-large\"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartItem;","import React from \"react\";\r\nimport withContext from \"../withContext\";\r\nimport CartItem from \"./CartItem\";\r\n\r\nconst Cart = props => {\r\n    const { cart } = props.context;\r\n    const cartKeys = Object.keys(cart || {});\r\n    return (\r\n        <>\r\n            <div className=\"hero is-link\">\r\n                <div className=\"hero-body container\">\r\n                    <h4 className=\"title\">My Cart</h4>\r\n                </div>\r\n            </div>\r\n            <br />\r\n            <div className=\"container\">\r\n                {cartKeys.length ? (\r\n                    <div className=\"column columns is-multiline\">\r\n                        {cartKeys.map(key => (\r\n                            <CartItem\r\n                                cartKey={key}\r\n                                key={key}\r\n                                cartItem={cart[key]}\r\n                                removeFromCart={props.context.removeFromCart}\r\n                            />\r\n                        ))}\r\n                        <div className=\"column is-12 is-clearfix\">\r\n                            <br />\r\n                            <div className=\"is-pulled-right\">\r\n                                <button\r\n                                    onClick={props.context.clearCart}\r\n                                    className=\"button is-warning \"\r\n                                >\r\n                                    Clear cart\r\n                </button>{\" \"}\r\n                                <button\r\n                                    className=\"button is-success\"\r\n                                    onClick={props.context.checkout}\r\n                                >\r\n                                    Checkout\r\n                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                        <div className=\"column\">\r\n                            <div className=\"title has-text-grey-light\">No item in cart!</div>\r\n                        </div>\r\n                    )}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withContext(Cart);","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport withContext from \"../withContext\";\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\"\r\n        };\r\n    }\r\n\r\n    handleChange = e => this.setState({ [e.target.name]: e.target.value, error: \"\" });\r\n\r\n    login = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { username, password } = this.state;\r\n        if (!username || !password) {\r\n            return this.setState({ error: \"Fill all fields!\" });\r\n        }\r\n        this.props.context.login(username, password)\r\n            .then((loggedIn) => {\r\n                if (!loggedIn) {\r\n                    this.setState({ error: \"Invalid Credentails\" });\r\n                }\r\n            })\r\n    };\r\n\r\n    render() {\r\n        return !this.props.context.user ? (\r\n            <>\r\n                <div className=\"hero is-link \">\r\n                    <div className=\"hero-body container\">\r\n                        <h4 className=\"title\">Login</h4>\r\n                    </div>\r\n                </div>\r\n                <br />\r\n                <br />\r\n                <form onSubmit={this.login}>\r\n                    <div className=\"columns is-mobile is-centered\">\r\n                        <div className=\"column is-one-third\">\r\n                            <div className=\"field\">\r\n                                <p class=\"control has-icons-left has-icons-right\">\r\n                                    <input\r\n                                        className=\"input\"\r\n                                        type=\"email\"\r\n                                        name=\"username\"\r\n                                        placeholder=\"Email\"\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                    <span class=\"icon is-small is-left\">\r\n                                        <i class=\"fas fa-envelope\"></i>\r\n                                    </span>\r\n                                    <span class=\"icon is-small is-right\">\r\n                                        <i class=\"fas fa-check\"></i>\r\n                                    </span>\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"field\">\r\n                                <p class=\"control has-icons-left has-icons-right\">\r\n                                    <input\r\n                                        className=\"input\"\r\n                                        type=\"password\"\r\n                                        name=\"password\"\r\n                                        placeholder=\"Password\"\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                    <span class=\"icon is-small is-left\">\r\n                                        <i class=\"fas fa-lock\"></i>\r\n                                    </span>\r\n                                </p>\r\n                            </div>\r\n                            {this.state.error && (\r\n                                <div className=\"has-text-danger\">{this.state.error}</div>\r\n                            )}\r\n                            <div className=\"field is-clearfix\">\r\n                                <button\r\n                                    className=\"button is-link is-outlined is-pulled-right\"\r\n                                >\r\n                                    Submit\r\n                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </>\r\n        ) : (\r\n                <Redirect to=\"/products\" />\r\n            );\r\n    }\r\n}\r\n\r\nexport default withContext(Login);","import React from \"react\";\r\n\r\nconst ProductItem = props => {\r\n    const { product } = props;\r\n    return (\r\n        <div className=\" column is-half\">\r\n            <div className=\"box\">\r\n                <div className=\"media\">\r\n                    <div className=\"media-left\">\r\n                        <figure className=\"image is-64x64\">\r\n                            <img\r\n                                src=\"https://bulma.io/images/placeholders/128x128.png\"\r\n                                alt={product.shortDesc}\r\n                            />\r\n                        </figure>\r\n                    </div>\r\n                    <div className=\"media-content\">\r\n                        <b style={{ textTransform: \"capitalize\" }}>\r\n                            {product.name}{\" \"}\r\n                            <span className=\"tag is-link\">${product.price}</span>\r\n                        </b>\r\n                        <div>{product.shortDesc}</div>\r\n                        {product.stock > 0 ? (\r\n                            <small>{product.stock + \" Available\"}</small>\r\n                        ) : (\r\n                                <small className=\"has-text-danger\">Out Of Stock</small>\r\n                            )}\r\n                        <div className=\"is-clearfix\">\r\n                            <button\r\n                                className=\"button is-small is-outlined is-link   is-pulled-right\"\r\n                                onClick={() =>\r\n                                    props.addToCart({\r\n                                        id: product.name,\r\n                                        product,\r\n                                        amount: 1\r\n                                    })\r\n                                }\r\n                            >\r\n                                Add to Cart\r\n              </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductItem;","import React from \"react\";\r\nimport ProductItem from \"./ProductItem\";\r\nimport withContext from \"../withContext\";\r\n\r\nconst ProductList = props => {\r\n    const { products } = props.context;\r\n\r\n    return (\r\n        <>\r\n            <div className=\"hero is-link\">\r\n                <div className=\"hero-body container\">\r\n                    <h4 className=\"title\">Our Products</h4>\r\n                </div>\r\n            </div>\r\n            <br />\r\n            <div className=\"container\">\r\n                <div className=\"column columns is-multiline\">\r\n                    {products && products.length ? (\r\n                        products.map((product, index) => (\r\n                            <ProductItem\r\n                                product={product}\r\n                                key={index}\r\n                                addToCart={props.context.addToCart}\r\n                            />\r\n                        ))\r\n                    ) : (\r\n                            <div className=\"column\">\r\n                                <span className=\"title has-text-grey-light\">\r\n                                    No products found!\r\n              </span>\r\n                            </div>\r\n                        )}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withContext(ProductList);","import React, { Component } from \"react\";\nimport { Switch, Route, Link, BrowserRouter as Router } from \"react-router-dom\";\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\n\nimport AddProduct from './components/AddProduct';\nimport Cart from './components/Cart';\nimport Login from './components/Login';\nimport ProductList from './components/ProductList';\n\nimport Context from \"./Context\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      cart: {},\n      products: []\n    };\n    this.routerRef = React.createRef();\n  }\n\n  async componentDidMount() {\n    let user = localStorage.getItem(\"user\");\n    let cart = localStorage.getItem(\"cart\");\n\n    const products = await axios.get('http://localhost:3001/products');\n    user = user ? JSON.parse(user) : null;\n    cart = cart ? JSON.parse(cart) : {};\n\n    this.setState({ user, products: products.data, cart });\n  }\n\n  login = async (email, password) => {\n    const res = await axios.post(\n      'http://localhost:3001/login',\n      { email, password },\n    ).catch((res) => {\n      return { status: 401, message: 'Unauthorized' }\n    })\n\n    if (res.status === 200) {\n      const { email } = jwt_decode(res.data.accessToken)\n      const user = {\n        email,\n        token: res.data.accessToken,\n        accessLevel: email === 'admin@example.com' ? 0 : 1\n      }\n\n      this.setState({ user });\n      localStorage.setItem(\"user\", JSON.stringify(user));\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  logout = e => {\n    e.preventDefault();\n    this.setState({ user: null });\n    localStorage.removeItem(\"user\");\n  };\n\n  addProduct = (product, callback) => {\n    let products = this.state.products.slice();\n    products.push(product);\n    this.setState({ products }, () => callback && callback());\n  };\n\n  addToCart = cartItem => {\n    let cart = this.state.cart;\n    if (cart[cartItem.id]) {\n      cart[cartItem.id].amount += cartItem.amount;\n    } else {\n      cart[cartItem.id] = cartItem;\n    }\n    if (cart[cartItem.id].amount > cart[cartItem.id].product.stock) {\n      cart[cartItem.id].amount = cart[cartItem.id].product.stock;\n    }\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    this.setState({ cart });\n  };\n\n  removeFromCart = cartItemId => {\n    let cart = this.state.cart;\n    delete cart[cartItemId];\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    this.setState({ cart });\n  };\n\n  clearCart = () => {\n    let cart = {};\n    localStorage.removeItem(\"cart\");\n    this.setState({ cart });\n  };\n\n  checkout = () => {\n    if (!this.state.user) {\n      this.routerRef.current.history.push(\"/login\");\n      return;\n    }\n\n    const cart = this.state.cart;\n\n    const products = this.state.products.map(p => {\n      if (cart[p.name]) {\n        p.stock = p.stock - cart[p.name].amount;\n\n        axios.put(\n          `http://localhost:3001/products/${p.id}`,\n          { ...p },\n        )\n      }\n      return p;\n    });\n\n    this.setState({ products });\n    this.clearCart();\n  };\n\n  render() {\n    return (\n      <Context.Provider\n        value={{\n          ...this.state,\n          removeFromCart: this.removeFromCart,\n          addToCart: this.addToCart,\n          login: this.login,\n          addProduct: this.addProduct,\n          clearCart: this.clearCart,\n          checkout: this.checkout\n        }}\n      >\n        <Router ref={this.routerRef}>\n          <div className=\"App\">\n            <nav\n              className=\"navbar container is-transparent\"\n              role=\"navigation\"\n              aria-label=\"main navigation\"\n            >\n              <div className=\"navbar-brand\">\n                <b className=\"navbar-item is-size-4 \">ecommerce</b>\n                <label\n                  role=\"button\"\n                  class=\"navbar-burger burger\"\n                  aria-label=\"menu\"\n                  aria-expanded=\"false\"\n                  data-target=\"navbarBasicExample\"\n                  onClick={e => {\n                    e.preventDefault();\n                    this.setState({ showMenu: !this.state.showMenu });\n                  }}\n                >\n                  <span aria-hidden=\"true\"></span>\n                  <span aria-hidden=\"true\"></span>\n                  <span aria-hidden=\"true\"></span>\n                </label>\n              </div>\n              <div className={`navbar-menu ${this.state.showMenu ? \"is-active\" : \"\"\n                }`}>\n                <Link to=\"/products\" className=\"navbar-item\">\n                  Products\n                </Link>\n                {this.state.user && this.state.user.accessLevel < 1 && (\n                  <Link to=\"/add-product\" className=\"navbar-item\">\n                    Add Product\n                  </Link>\n                )}\n                <Link to=\"/cart\" className=\"navbar-item\">\n                  Cart\n                  <span\n                    className=\"tag is-link\"\n                    style={{ marginLeft: \"5px\" }}\n                  >\n                    {Object.keys(this.state.cart).length}\n                  </span>\n                </Link>\n                {!this.state.user ? (\n                  <Link to=\"/login\" className=\"navbar-item\">\n                    Login\n                  </Link>\n                ) : (\n                    <Link to=\"/\" onClick={this.logout} className=\"navbar-item\">\n                      Logout\n                    </Link>\n                  )}\n              </div>\n            </nav>\n            <Switch>\n              <Route exact path=\"/\" component={ProductList} />\n              <Route exact path=\"/login\" component={Login} />\n              <Route exact path=\"/cart\" component={Cart} />\n              <Route exact path=\"/add-product\" component={AddProduct} />\n              <Route exact path=\"/products\" component={ProductList} />\n            </Switch>\n          </div>\n        </Router>\n      </Context.Provider>\n    );\n  }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"bulma/css/bulma.css\";\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}